<!DOCTYPE html>
<html lang="ro">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proiect PHP - Management Sală de Fitness</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header>
        <h1>Proiect PHP: Aplicație Web "FitnessManager"</h1>
        <p>O soluție pentru managementul unei săli de fitness.</p>
    </header>

    <main>
        <section id="descriere">
            <h2>1. Descrierea Aplicației</h2>
            <p><strong>Numele aplicației:</strong> FitnessManager</p>
            <p><strong>Obiectiv:</strong> Aplicația web "FitnessManager" este o platformă destinată administrării
                eficiente a unei săli de fitness. Aceasta își propune să digitalizeze și să simplifice procesele
                zilnice, oferind o interfață intuitivă atât pentru administratori și antrenori, cât și pentru clienți.
            </p>

            <h3>Funcționalități Cheie:</h3>
            <ul>
                <li>Managementul clienților (înregistrare, profil, istoric).</li>
                <li>Gestionarea tipurilor de abonamente și a plăților.</li>
                <li>Managementul orelor de grup (creare, modificare, anulare).</li>
                <li>Sistem de rezervări online pentru clienți la clasele de grup.</li>
                <li>Panou de administrare pentru gestionarea antrenorilor și a programului.</li>
            </ul>
        </section>

        <section id="arhitectura">
            <h2>2. Descrierea Arhitecturii</h2>
            <p>Arhitectura aplicației este gândită pentru a fi scalabilă și ușor de întreținut, bazându-se pe o separare
                clară a responsabilităților.</p>

            <h3>Roluri (Actori)</h3>
            <ul>
                <li><strong>Administrator:</strong> Are control total asupra aplicației. Gestionează utilizatorii
                    (clienți, antrenori), tipurile de abonamente, clasele și rapoartele financiare.</li>
                <li><strong>Antrenor:</strong> Gestionează clasele pe care le susține, poate vizualiza lista
                    participanților și poate marca prezența.</li>
                <li><strong>Client (Membru):</strong> Își poate vizualiza profilul, starea abonamentului, poate rezerva
                    un loc la clasele de grup și poate anula rezervările.</li>
                <li><strong>Vizitator (Neautentificat):</strong> Poate vizualiza informații publice (orarul claselor,
                    prețuri abonamente), dar nu poate interacționa (ex. rezerva).</li>
            </ul>

            <h3>Entități Principale</h3>
            <p>Acestea reprezintă structurile de date principale ale aplicației:</p>
            <ul>
                <li><strong>Utilizatori (Users):</strong> Stochează datele comune (nume, email, parolă) și rolul (admin,
                    antrenor, client).</li>
                <li><strong>Abonamente (Subscriptions):</strong> Definește tipurile de abonamente (ex: "Full Day 1
                    Lună", "Morning 3 Luni", "10 Intrări").</li>
                <li><strong>Abonamente_Clienti (Client_Subscriptions):</strong> O tabelă de legătură care arată ce
                    client ce abonament activ are și perioada de valabilitate.</li>
                <li><strong>Clase (Classes):</strong> Definește orele de grup (ex: "Yoga", "Crossfit"), antrenorul
                    alocat și numărul maxim de locuri.</li>
                <li><strong>Rezervari (Bookings):</strong> O tabelă de legătură care stochează rezervările făcute de
                    clienți la o anumită clasă.</li>
            </ul>

            <h3>Descrierea Bazei de Date (MySQL)</h3>
            <p>Vom folosi o bază de date relațională **MySQL** (gestionată local și pe host). Structura se va baza pe
                entitățile de mai sus:</p>
            <ul>
                <li>`t_users` (id, nume, email, parola_hash, rol_id)</li>
                <li>`t_roles` (id, nume_rol) - ex: 'admin', 'client'</li>
                <li>`t_subscriptions_types` (id, nume_abonament, pret, durata_zile)</li>
                <li>`t_client_subscriptions` (id, user_id, type_id, data_start, data_expirare)</li>
                <li>`t_classes` (id, nume_clasa, antrenor_id, data_ora, locuri_disponibile)</li>
                <li>`t_bookings` (id, user_id, class_id)</li>
            </ul>
            <p><strong>Relații cheie:</strong> Un `User` (client) poate avea mai multe `Client_Subscriptions`. Un `User`
                (client) poate face mai multe `Bookings`. O `Class` poate avea mai multe `Bookings`.</p>
        </section>

        <section id="implementare">
            <h2>3. Descrierea Soluției de Implementare</h2>
            <p>Soluția propusă va fi implementată folosind stack-ul **LAMP** (Linux - pe host, Apache, **MySQL**,
                **PHP**).</p>

            <h3>Arhitectura Software: Model-View-Controller (MVC)</h3>
            <p>Pentru a organiza codul eficient, vom folosi o structură simplificată de tip MVC:</p>
            <ul>
                <li><strong>Model (Model):</strong> Reprezintă logica datelor. Vor fi clase PHP (ex: `User.php`,
                    `Clasa.php`) care se ocupă exclusiv de interacțiunea cu baza de date (interogări SQL, preluare și
                    salvare date).</li>
                <li><strong>View (Vederea):</strong> Reprezintă interfața cu utilizatorul. Acestea vor fi fișiere `.php`
                    care conțin în mare parte HTML și CSS, cu foarte puțin cod PHP (doar pentru afișarea datelor primite
                    de la Controller). Ex: `login.php`, `program.phtml`.</li>
                <li><strong>Controller (Controlor):</strong> Este "creierul" care leagă Modelele de Vederi. Primește
                    cererea de la utilizator (ex: 'vreau sa ma loghez'), cere datele necesare de la Model (ex: 'verifică
                    user/parola în BD'), și apoi încarcă Vederea potrivită (ex: 'afiseaza profilul' sau 'afiseaza eroare
                    logare').</li>
            </ul>

            <h3>Structura Fișierelor (Propunere)</h3>
            <pre>
/fitness-manager/
|-- /app
|   |-- /controllers  (LoginController.php, ClasaController.php)
|   |-- /models       (User.php, Clasa.php, Abonament.php)
|   |-- /views        (login.php, register.php, program.php)
|-- /public
|   |-- /css          (style.css)
|   |-- /js           (main.js)
|   |-- /img          (logo.png, USE_CASE_DIAGRAM.png, CLASS_DIAGRAM.png)
|   |-- index.php     (Fișierul principal care primește toate cererile)
|-- /config
|   |-- database.php  (Setările de conexiune la baza de date)
|-- .htaccess         (Pentru a ruta toate cererile prin index.php)
            </pre>

            <h3>Diagrame UML (Exemple)</h3>
            <p>Pentru a detalia fluxurile, vom folosi diagrame UML:</p>

            <h4>1. Diagrama de Cazuri de Utilizare (Use Case Diagram)</h4>
            <p>Aceasta arată interacțiunea actorilor cu sistemul:</p>

            <img src="img/USE_CASE_DIAGRAM.png" alt="Diagrama de Cazuri de Utilizare" style="max-width:100%; height:auto; display:block; margin:1rem auto;">

            <p>Actorii principali și acțiunile lor cheie:</p>
            <ul>
                <li><strong>Client:</strong> Autentificare, Vizualizare Orar, Rezervare Clasă, Anulare Rezervare,
                    Vizualizare Abonament.</li>
                <li><strong>Administrator:</strong> Management Utilizatori, Management Clase, Management Tipuri
                    Abonamente, Vizualizare Rapoarte.</li>
                <li><strong>Antrenor:</strong> Vizualizare Prezență Clase, Gestionare Clase proprii.</li>
            </ul>

            <h4>2. Diagrama de Clase (Class Diagram)</h4>
            <p>Aceasta ilustrează structura principală a datelor și relațiile dintre ele:</p>

            <img src="img/CLASS_DIAGRAM.png" alt="Diagrama de Clase" style="max-width:100%; height:auto; display:block; margin:1rem auto;">

            <h4>3. Diagrama de Secvență (Exemplu: "Rezervare Clasă")</h4>
            <p>Aceasta arată ordinea interacțiunilor pentru un flux specific:</p>
            <ol>
                <li><strong>Clientul</strong> accesează `program.php` (View).</li>
                <li><strong>Clientul</strong> dă clic pe "Rezervă" pentru o clasă.</li>
                <li><strong>View</strong> trimite cererea la `ClasaController.php`.</li>
                <li><strong>ClasaController</strong> verifică dacă clientul e logat (Sesiune).</li>
                <li><strong>ClasaController</strong> cere la `AbonamentModel` să verifice dacă are abonament valid.</li>
                <li><strong>ClasaController</strong> cere la `ClasaModel` să verifice dacă sunt locuri libere.</li>
                <li>Dacă totul e OK, <strong>ClasaController</strong> cere la `RezervareModel` să insereze noua
                    rezervare în BD.</li>
                <li><strong>ClasaController</strong> încarcă `program.php` (View) cu un mesaj de succes.</li>
            </ol>

        </section>
    </main>

    <footer>
        <p>Proiect realizat de Fologea Sebastian, Grupa 241</p>
    </footer>
</body>

</html>
